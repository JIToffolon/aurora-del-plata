---
import BaseLayout from "../layouts/BaseLayout.astro";

const email = "info@auroradelplata.com.ar";
const phoneDisplay = "11 4282-5977";
const phoneTel = "+5491142825977";
const address = "Roque Sáenz Peña 1054";

// ✅ MVP sin backend: Formspree.
// Creás un form en Formspree y te dan una URL tipo: https://formspree.io/f/XXXXXXX
const FORMSPREE_ACTION = "https://formspree.io/f/XXXXXXXX"; // <- reemplazar
---

<BaseLayout title="Contacto" description="Contactá a Aurora del Plata Cannabis Medicinal.">
  <section class="space-y-8">
    <div>
      <h1 class="text-2xl font-semibold">Contacto</h1>
      <p class="mt-2 text-sm text-white/70">
        Escribinos y te respondemos a la brevedad.
      </p>
    </div>

    <div class="grid gap-4 md:grid-cols-3">
      <div class="rounded-2xl bg-white/5 p-5 ring-1 ring-white/10">
        <h2 class="font-semibold">Email</h2>
        <a class="mt-2 block text-sm text-white/80 hover:text-white" href={`mailto:${email}`}>
          {email}
        </a>
      </div>

      <div class="rounded-2xl bg-white/5 p-5 ring-1 ring-white/10">
        <h2 class="font-semibold">Teléfono / WhatsApp</h2>
        <a class="mt-2 block text-sm text-white/80 hover:text-white" href={`tel:${phoneTel}`}>
          {phoneDisplay}
        </a>
        <a class="mt-2 inline-flex rounded-xl bg-white/10 hover:bg-white/15 ring-1 ring-white/10 transition px-3 py-2 text-sm"
           href={`https://wa.me/5491142825977?text=${encodeURIComponent("Hola! Quería hacer una consulta a Aurora del Plata.")}`}
           target="_blank" rel="noopener noreferrer">
          Escribir por WhatsApp
        </a>
      </div>

      <div class="rounded-2xl bg-white/5 p-5 ring-1 ring-white/10">
        <h2 class="font-semibold">Dirección</h2>
        <p class="mt-2 text-sm text-white/80">{address}</p>
        <a
          class="mt-2 block text-sm text-white/70 hover:text-white"
          href={`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(address)}`}
          target="_blank"
          rel="noopener noreferrer"
        >
          Ver en Google Maps →
        </a>
      </div>
    </div>

    <div class="rounded-3xl bg-white/5 p-6 ring-1 ring-white/10">
      <h2 class="text-lg font-semibold">Formulario</h2>
      <p class="mt-2 text-sm text-white/70">
        Este formulario envía el mensaje por email a <b class="text-white">{email}</b>.
      </p>

      <form
        class="mt-4 grid gap-3 md:grid-cols-2"
        method="POST"
        action={FORMSPREE_ACTION}
      >
        <input type="hidden" name="_subject" value="Nuevo mensaje desde auroradelplata.org" />

        <input
          class="rounded-xl bg-white/5 ring-1 ring-white/10 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-brand-500"
          placeholder="Nombre"
          name="name"
          required
        />

        <input
          class="rounded-xl bg-white/5 ring-1 ring-white/10 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-brand-500"
          placeholder="Email"
          name="email"
          type="email"
          required
        />

        <textarea
          class="md:col-span-2 min-h-[140px] rounded-xl bg-white/5 ring-1 ring-white/10 px-3 py-2 text-sm outline-none focus:ring-2 focus:ring-brand-500"
          placeholder="Mensaje"
          name="message"
          required
        ></textarea>

        <button
          class="md:col-span-2 rounded-xl bg-brand-700 hover:bg-brand-500 transition px-4 py-2 text-sm font-medium"
          type="submit"
        >
          Enviar mensaje
        </button>

        <p class="md:col-span-2 text-xs text-white/50">
          Al enviar este formulario aceptás ser contactado por Aurora del Plata.
        </p>
      </form>
    </div>
  </section>
</BaseLayout>
